name: Static Code Analysis

on:
    push:
        branches:
            - main
    pull_request:
        branches:
            - "main"

jobs:
    static_code_analysis:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@master
              with:
                persist-credentials: false
                fetch-depth: 0
        
            - name: Create local changes
              run: |
                python -m pip install --upgrade pip
                pip install isort
                pip install black
                black .
                isort .

            - name: Commit & Push changes
              uses: actions-js/push@master
              with:
                github_token: ${{ secrets.GITHUB_TOKEN }}